const Navigation=function(){"use strict";let e="home",t=!1;const n={sections:document.querySelectorAll("section"),navLinks:document.querySelectorAll(".header__link[data-section]"),sideNavLinks:document.querySelectorAll(".side-nav__menu-link[data-section]"),hamburgerButton:document.getElementById("hamburgerButton"),headerMenu:document.getElementById("headerMenu"),body:document.body};function i(){if(!n.hamburgerButton||!n.headerMenu)return;const e=function(){let e=document.querySelector(".menu-overlay");return e||(e=document.createElement("div"),e.className="menu-overlay",document.body.appendChild(e),e.addEventListener("click",s)),e}();n.hamburgerButton.addEventListener("click",(function(t){t.stopPropagation(),this.classList.toggle("header__hamburger--active"),n.headerMenu.classList.toggle("header__menu--active"),e.classList.toggle("menu-overlay--active"),n.body.classList.toggle("body--menu-open"),n.body.classList.contains("body--menu-open")?n.body.style.overflow="hidden":n.body.style.overflow=""})),n.headerMenu.querySelectorAll(".header__link").forEach((e=>{e.addEventListener("click",(function(e){setTimeout((()=>{s()}),300)}))})),document.addEventListener("click",(e=>{!n.headerMenu.classList.contains("header__menu--active")||n.headerMenu.contains(e.target)||n.hamburgerButton.contains(e.target)||s()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&n.headerMenu.classList.contains("header__menu--active")&&s()})),window.addEventListener("resize",(function(){window.innerWidth>768&&n.headerMenu.classList.contains("header__menu--active")&&s()}))}function s(){n.hamburgerButton&&n.hamburgerButton.classList.remove("header__hamburger--active"),n.headerMenu&&n.headerMenu.classList.remove("header__menu--active");const e=document.querySelector(".menu-overlay");e&&e.classList.remove("menu-overlay--active"),n.body.classList.remove("body--menu-open"),n.body.style.overflow=""}function o(t){if(e===t)return;n.navLinks.forEach((e=>{e.classList.remove("header__link--active"),e.getAttribute("data-section")===t&&e.classList.add("header__link--active")})),n.sideNavLinks.forEach((e=>{e.classList.remove("side-nav__menu-link--active"),e.getAttribute("data-section")===t&&e.classList.add("side-nav__menu-link--active")})),n.sections.forEach((e=>{e.classList.remove("section--active","home--active"),e.style.display="none",e.style.opacity="0",e.style.visibility="hidden"}));const i=document.getElementById(t);i&&(i.style.display="",i.style.opacity="",i.style.visibility="",i.style.position="",i.style.left="",i.style.minHeight="",i.style.height="",i.style.overflow="","home"===t?(i.classList.add("home--active"),i.style.display="flex",setTimeout((()=>{i.style.opacity="1",i.style.visibility="visible",i.style.transform="translateY(0) scale(1)"}),50)):(i.classList.add("section--active"),i.style.display="block",setTimeout((()=>{i.style.opacity="1",i.style.visibility="visible"}),50)),e=t,window.history.pushState(null,null,`#${t}`),a(t)),s(),"undefined"!=typeof SideNavigation&&SideNavigation.close(),window.scrollTo({top:0,behavior:"smooth"}),document.dispatchEvent(new CustomEvent("sectionChanged",{detail:{section:t,previousSection:e}}))}function a(e){switch(e){case"home":setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),100);break;case"messages":"undefined"!=typeof Messages&&setTimeout((()=>{Messages.init&&!Messages.isInitialized?Messages.init():Messages.refresh&&Messages.refresh()}),100);break;case"gallery":"undefined"!=typeof Gallery&&setTimeout((()=>{Gallery.refresh?Gallery.refresh():Gallery.init&&Gallery.init()}),100)}}function c(){setTimeout((()=>{!function(){const t=window.location.hash.substring(1);if(t&&"home"!==t)t&&document.getElementById(t)&&o(t);else{const t=document.getElementById("home");document.querySelectorAll(".section").forEach((e=>{e.classList.remove("section--active","home--active"),e.style.display="none",e.style.opacity="0",e.style.visibility="hidden"})),t&&(t.classList.add("home--active"),t.style.display="flex",t.style.opacity="1",t.style.visibility="visible",t.style.transform="none",window.location.hash||window.history.replaceState(null,null,"#home")),e="home"}}(),setTimeout((()=>{document.querySelector(".section--active, .home--active")||o("home")}),500)}),100)}function d(e){return document.getElementById(e)}return{init:function(){t||(n.navLinks.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("data-section");t&&o(t)}))})),n.sideNavLinks.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("data-section");t&&o(t)}))})),window.addEventListener("hashchange",(function(){const e=window.location.hash.substring(1);e&&document.getElementById(e)&&o(e)})),window.addEventListener("popstate",(function(){const e=window.location.hash.substring(1);e&&document.getElementById(e)?o(e):o("home")})),document.addEventListener("click",(function(e){const t=e.target.closest("[data-section]");if(t&&t.hasAttribute("data-section")){e.preventDefault();const n=t.getAttribute("data-section");n&&o(n)}})),i(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c(),t=!0)},getCurrentSection:function(){return e},switchToSection:function(e){e&&document.getElementById(e)&&o(e)},closeMobileMenu:s,isMobileMenuOpen:function(){return n.headerMenu&&n.headerMenu.classList.contains("header__menu--active")},getSectionElement:d,isSectionVisible:function(e){const t=d(e);return!!t&&(t.classList.contains("section--active")||t.classList.contains("home--active"))},refreshCurrentSection:function(){e&&a(e)},isInitialized:function(){return t}}}();"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){setTimeout((()=>{Navigation.init()}),100)})):setTimeout((()=>{Navigation.init()}),100),"undefined"!=typeof window&&(window.Navigation=Navigation);